---
title: "Docker 개념과 아키텍처"
weight: 31
---

# Docker 개념과 아키텍처

Docker의 핵심 개념과 아키텍처를 이해하는 것은 컨테이너 기술을 효과적으로 활용하기 위한 첫 번째 단계입니다.

## 📚 Docker 핵심 개념

### 컨테이너란?

컨테이너는 **애플리케이션과 그 실행에 필요한 모든 것(코드, 런타임, 시스템 도구, 라이브러리, 설정)을 패키징**한 표준화된 단위입니다.

```
┌─────────────────────────────────────────────────────────┐
│                      컨테이너                            │
│  ┌─────────────┐ ┌─────────────┐ ┌─────────────┐       │
│  │    코드     │ │   런타임    │ │  시스템 도구  │       │
│  └─────────────┘ └─────────────┘ └─────────────┘       │
│  ┌─────────────┐ ┌─────────────┐                       │
│  │  라이브러리  │ │    설정     │                       │
│  └─────────────┘ └─────────────┘                       │
└─────────────────────────────────────────────────────────┘
```

### 왜 컨테이너를 사용하는가?

| 문제점 | 컨테이너 솔루션 |
|--------|----------------|
| "내 PC에서는 되는데..." | 환경 일관성 보장 |
| 복잡한 의존성 관리 | 패키지화된 환경 |
| 리소스 낭비 | 경량화된 실행 환경 |
| 느린 배포 속도 | 빠른 컨테이너 시작 |

## 🏗️ 컨테이너 vs 가상머신

### 아키텍처 비교

```
┌─────────────────────────────────────────────────────────────────────┐
│                        가상머신 (VM)                                 │
├─────────────────────────────────────────────────────────────────────┤
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐                 │
│  │    App A    │  │    App B    │  │    App C    │                 │
│  ├─────────────┤  ├─────────────┤  ├─────────────┤                 │
│  │  Bins/Libs  │  │  Bins/Libs  │  │  Bins/Libs  │                 │
│  ├─────────────┤  ├─────────────┤  ├─────────────┤                 │
│  │  Guest OS   │  │  Guest OS   │  │  Guest OS   │  ← 각 VM마다    │
│  │  (수 GB)    │  │  (수 GB)    │  │  (수 GB)    │    전체 OS 필요 │
│  └─────────────┘  └─────────────┘  └─────────────┘                 │
│  ┌─────────────────────────────────────────────────┐               │
│  │              하이퍼바이저 (Hypervisor)            │               │
│  └─────────────────────────────────────────────────┘               │
│  ┌─────────────────────────────────────────────────┐               │
│  │                   Host OS                       │               │
│  └─────────────────────────────────────────────────┘               │
│  ┌─────────────────────────────────────────────────┐               │
│  │                 Infrastructure                  │               │
│  └─────────────────────────────────────────────────┘               │
└─────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────┐
│                         컨테이너                                     │
├─────────────────────────────────────────────────────────────────────┤
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐                 │
│  │    App A    │  │    App B    │  │    App C    │                 │
│  ├─────────────┤  ├─────────────┤  ├─────────────┤                 │
│  │  Bins/Libs  │  │  Bins/Libs  │  │  Bins/Libs  │  ← 필요한 것만  │
│  └─────────────┘  └─────────────┘  └─────────────┘    포함 (수 MB) │
│  ┌─────────────────────────────────────────────────┐               │
│  │              Docker Engine                      │               │
│  └─────────────────────────────────────────────────┘               │
│  ┌─────────────────────────────────────────────────┐               │
│  │              Host OS (커널 공유)                 │  ← 커널 공유  │
│  └─────────────────────────────────────────────────┘               │
│  ┌─────────────────────────────────────────────────┐               │
│  │                 Infrastructure                  │               │
│  └─────────────────────────────────────────────────┘               │
└─────────────────────────────────────────────────────────────────────┘
```

### 상세 비교

| 특성 | 가상머신 | 컨테이너 |
|------|---------|---------|
| **시작 시간** | 분 단위 | 초 단위 |
| **크기** | 수 GB | 수십 MB ~ 수백 MB |
| **격리 수준** | 완전 격리 (하드웨어 레벨) | 프로세스 레벨 격리 |
| **성능** | 오버헤드 있음 | 네이티브에 가까움 |
| **이식성** | 하이퍼바이저 의존 | 어디서든 동일하게 실행 |
| **리소스 사용** | 고정 할당 | 필요한 만큼 사용 |

## 🐳 Docker 아키텍처

### Docker Engine 구조

```
┌─────────────────────────────────────────────────────────────────┐
│                      Docker Client (CLI)                        │
│                    docker build, run, pull...                   │
└───────────────────────────┬─────────────────────────────────────┘
                            │ REST API
                            ▼
┌─────────────────────────────────────────────────────────────────┐
│                      Docker Daemon (dockerd)                    │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐             │
│  │   Images    │  │ Containers  │  │  Networks   │             │
│  └─────────────┘  └─────────────┘  └─────────────┘             │
│  ┌─────────────┐  ┌─────────────┐                              │
│  │   Volumes   │  │   Plugins   │                              │
│  └─────────────┘  └─────────────┘                              │
└───────────────────────────┬─────────────────────────────────────┘
                            │
                            ▼
┌─────────────────────────────────────────────────────────────────┐
│                      containerd                                 │
│            (컨테이너 런타임 관리)                                  │
└───────────────────────────┬─────────────────────────────────────┘
                            │
                            ▼
┌─────────────────────────────────────────────────────────────────┐
│                         runc                                    │
│              (OCI 컨테이너 실행)                                  │
└─────────────────────────────────────────────────────────────────┘
```

### 핵심 구성 요소

| 구성 요소 | 역할 |
|----------|------|
| **Docker Client** | 사용자 명령어 입력 인터페이스 |
| **Docker Daemon** | 이미지, 컨테이너, 네트워크 등 관리 |
| **Docker Registry** | 이미지 저장소 (Docker Hub, ECR 등) |
| **containerd** | 컨테이너 생명주기 관리 |
| **runc** | 실제 컨테이너 프로세스 실행 |

## 🖼️ Docker 이미지와 컨테이너

### 이미지 레이어 구조

Docker 이미지는 **읽기 전용 레이어들의 스택**으로 구성됩니다.

```
┌─────────────────────────────────────┐
│     Container Layer (R/W)           │  ← 컨테이너 실행 시 추가
├─────────────────────────────────────┤     (변경사항 저장)
│     Application Code                │  ← COPY/ADD
├─────────────────────────────────────┤
│     Python Packages                 │  ← RUN pip install
├─────────────────────────────────────┤
│     Python Runtime                  │  ← 베이스 이미지
├─────────────────────────────────────┤
│     Ubuntu Base                     │  ← 베이스 이미지
└─────────────────────────────────────┘
        모든 레이어 Read-Only
```

### 이미지 vs 컨테이너

```
┌──────────────────┐                    ┌──────────────────┐
│                  │                    │                  │
│   Docker Image   │ ─── docker run ──▶ │    Container     │
│                  │                    │                  │
│  (설계도/템플릿)  │                    │  (실행 인스턴스)  │
│   - 읽기 전용    │                    │   - 읽기/쓰기    │
│   - 여러 컨테이너│                    │   - 격리된 환경   │
│     생성 가능    │                    │   - 프로세스 실행 │
│                  │                    │                  │
└──────────────────┘                    └──────────────────┘
         │
         │ 하나의 이미지로
         │ 여러 컨테이너 생성 가능
         ▼
┌──────────────────┐  ┌──────────────────┐  ┌──────────────────┐
│   Container 1    │  │   Container 2    │  │   Container 3    │
└──────────────────┘  └──────────────────┘  └──────────────────┘
```

## 📝 정리

### 핵심 개념 체크리스트

✅ **컨테이너 개념**
- 컨테이너와 가상머신의 차이점 이해
- Docker 아키텍처 구성 요소 파악
- 이미지와 컨테이너의 관계 이해

✅ **Docker 아키텍처**
- Docker Engine의 구조와 역할
- 레이어 기반 이미지 시스템
- 컨테이너 실행 과정

## 🚀 다음 단계

이제 Docker의 핵심 개념을 이해했으니, 실제 명령어를 사용해서 컨테이너를 실행하고 관리하는 방법을 학습해보겠습니다.

---

**[기본 명령어와 실습으로 계속 →](/30-docker-basics/basic-commands/)**